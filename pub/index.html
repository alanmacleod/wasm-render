
<html>
<head>
  <meta charset="UTF-8">
  <title>wasm-render</title>
  <style type="text/css">
  body {
    background-color: black;
    font-family: Sans-serif;
  }
  #output
  {
      width: 640px;
      height: 480px;
      margin-right: auto;
      margin-left: auto;
      position:relative; /* hack for graph overlay */
      cursor: pointer; /* make it look clickable */
  }

  #info
  {
    color: #999;
    padding: 30px;
    cursor: default;
    pointer-events: none;
  }
  h3 { color: #a8a8a8 }
  b { color: #b8b8b8 }

  </style>
</head>
<body>
  <div id="output">
    <div id="info">
      <h3>Hi !</h3>
      <p>
        This is the result of an exploration of WebAssembly technology, how it performs and how
        it might integrate into the existing Javascript development process.
      </p>
      <p>
        I thought a proper work-out ðŸ’ª test of the performance would be to write a
        polygon rasterisation routine in both JS and WASM/C, something which is pretty
        cycle intensive even directly on a CPU. Plus it's nice to look at.
      </p>
      <p>
        The graph is recording the time required to render one frame in milliseconds
      </p>

      <p>
        <b>Click the model to switch between pure Javascript and WebAssembly code in realtime whoooo</b>
      </p>

      <p>
        <small>Alan MacLeod</small>
      </p>
      <p>
        <small>blog.alanmacleod.eu/wasm-renderer</small>
      </p>

    </div>
  </div>
  <script src="./main.build.js"></script>


  <!-- <textarea id="ta"></textarea>

  <script src="./three.min.js"></script>
  <script>
  var box = new THREE.CubeGeometry(1,1,1);

  let ta = document.getElementById("ta");
  for (var t=0; t<box.vertices.length;t++)
  {
    let v = box.vertices[t];
    console.log(v.x, v.y, v.z)
    ta.innerHTML += "["+v.x+","+v.y+","+v.z+"],\n";
  }

  ta.innerHTML +="\n\n";

  for (var t=0; t<box.faces.length; t++)
  {
    let f = box.faces[t];
    ta.innerHTML += "["+f.a+","+f.b+","+f.c+"],\n";

  }

  ta.innerHTML +="\n\n";

  for (var t=0; t<box.faceVertexUvs[0].length; t++)
  {
    ta.innerHTML += "["
    for (let fv=0; fv<box.faceVertexUvs[0][t].length; fv++)
    {
    let uva = box.faceVertexUvs[0][t][fv];
    ta.innerHTML += "["+uva.x+","+uva.y+"]";
    if (fv < box.faceVertexUvs[0][t].length-1) ta.innerHTML +=','
    }
    ta.innerHTML +="],\n";
    // ta.innerHTML += "["+uva.x+","+uva.y+"]\n";
    // console.log(uva);
//console.log(box.faceVertexUvs[0][0][0].y);
  } -->



  </script>
</body>
</html>
